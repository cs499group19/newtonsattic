{% extends 'base/layout.html' %}
{% load staticfiles %}
{% load dict_lookup %}

{% block title %}Scheduling{% endblock %}

{% block end_head %}
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
  <!--<link rel="stylesheet" type="text/css" href="{% static 'scheduling/style.css' %}">-->
{% endblock %}

{% block page_header %}
  Scheduling
{% endblock %}

{% block page_description %}

{% endblock %}

{% block content %}
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <ul class="nav nav-tabs nav-tabs-custom" role="tablist">
          {% for week in weeks %}
            <li role="presentation">
              <a href="#week-{{ week }}"
                 aria-controls="week-{{ week }}"
                 role="tab"
                 data-toggle="tab"
              >
                Week {{ week }}
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="tab-content">
          {% for week in weeks %}
            <div role="tabpanel" class="tab-pane" id="week-{{ week }}">
              <div class="row">
                <div class="col-md-6">
                  {% for time in times %}
                    <div class="box box-default time">
                      <div class="box-header with-border">
                        <h3 class="box-title">{{ time }}</h3>
                        <div class="box-tools pull-right">
                          <button class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-minus"></i>
                          </button>
                        </div>
                      </div>
                      <div class="box-body">
                        <ul id="time" style="list-style-type:none">
                          <!--div>{{ week }}</div-->
                        </ul>
                      </div>
                    </div>
                  {% endfor %}
                </div>
                <div id="allCourses" class="col-md-4">
                  <h3>Available Courses</h3>
                  {% for class in sorted|get_item:week %}
                    {% for instructors in sorted|get_item:week|get_item:class %}
                      {% for room in class.room_requirement.all %}
                        <!-- begin box-->
                        <div class="box box-primary collapsed-box course">
                          <div class="box-header with-border">
                            <h3 class="box-title">{{ class.name }}</h3>
                            <div class="box-tools pull-right">
                              <button class="btn btn-box-tool" data-widget="collapse">
                                <i class="fa fa-minus"></i>
                              </button>
                            </div>
                          </div>
                          <div class="box-body">
                            <ul id="course" style="list-style-type: circle">
                              <li>Age Group: {{ class.age_group }}</li>
                              <li>Instructor: {{ instructors.name }}</li>
                              <li>Classroom: {{ room.name }}</li>
                            </ul>
                          </div>
                        </div>
                        <!-- end box -->
                      {% endfor %}
                    {% endfor %}
                  {% endfor %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}

{% endblock %}

{% block copyright %}

{% endblock %}

{% block javascript %}
  <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>-->
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script type="text/javascript" src="{% static 'scheduling/schedule.js' %}"></script>
  <script type="text/javascript">
    $('a[role="tab"]').click(function (e) {
      e.preventDefault();
      $(this).tab('show');
    });

    $(function () {
      $('a[role="tab"]:first').tab('show');
    });
  </script>
    <script type="application/javascript">
    var data = parseDatabaseData({{ data|safe }});
  </script>
{% endblock %}